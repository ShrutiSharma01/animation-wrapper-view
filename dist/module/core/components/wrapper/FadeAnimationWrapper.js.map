{"version":3,"sources":["FadeAnimationWrapper.tsx"],"names":["Animated","React","BaseAnimationWrapper","AnimationType","getEasingFunction","FadeAnimationWrapper","constructor","props","animationStarted","_fadeAnimation","reset","start","animationFinished","stop","stopAnimation","state","opacity","setValue","_getInitialOpacity","_getFinalOpacity","getAnimationStateFromProps","animationConfig","duration","toValue","type","FADE_IN","fadeInConfig","animationDuration","fadeOutConfig","finalOpacity","timing","easing","interpolationDef","useNativeDriver","UNSAFE_componentWillReceiveProps","nextProps","_nextContext","nextState","setState","renderAnimation","content","justifyContent","alignItems","Value","config","initialOpacity","FADE_OUT"],"mappings":"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","sourcesContent":["import { Animated } from 'react-native';\nimport React from 'react';\nimport { BaseAnimationWrapper } from './BaseAnimationWrapper';\n\nimport { FadeInAnimationConfig, FadeOutAnimationConfig } from '../../data/FadeAnimationConfig';\nimport { FadeAnimationProps } from '../../Types';\nimport { AnimationType } from '../../data/Enums';\nimport getEasingFunction from \"../Utils\";\n\ninterface FadeAnimationState {\n    opacity: Animated.Value;\n}\n\nexport interface FadeInAnimationProps extends FadeAnimationProps {\n    animationConfig: FadeInAnimationConfig;\n}\n\nexport interface FadeOutAnimationProps extends FadeAnimationProps {\n    animationConfig: FadeOutAnimationConfig;\n}\n\nexport class FadeAnimationWrapper extends BaseAnimationWrapper<FadeAnimationProps, FadeAnimationState> {\n\n    private _fadeAnimation: Animated.CompositeAnimation;\n\n    public constructor(props: FadeAnimationProps) {\n        super(props);\n        this.state = this.getAnimationStateFromProps(props);\n        const { animationConfig } = this.props;\n\n        let duration: number;\n        let toValue: number;\n\n        if (animationConfig.type === AnimationType.FADE_IN) {\n            const fadeInConfig = animationConfig as FadeInAnimationConfig;\n            duration = fadeInConfig.animationDuration;\n            toValue = 1;\n        } else {\n            const fadeOutConfig = animationConfig as FadeOutAnimationConfig;\n            duration = fadeOutConfig.animationDuration;\n            toValue = fadeOutConfig.finalOpacity ? fadeOutConfig.finalOpacity : 0;\n        }\n\n        this._fadeAnimation = Animated.timing(this.state.opacity, {\n            duration: duration,\n            toValue: toValue,\n            easing: getEasingFunction(animationConfig.interpolationDef),\n            useNativeDriver: false\n        });\n    }\n\n    public UNSAFE_componentWillReceiveProps(nextProps: FadeAnimationProps, _nextContext: any): void {\n        if (nextProps !== this.props) {\n            const nextState: FadeAnimationState | null = this.getAnimationStateFromProps(nextProps);\n            if (null != nextState) {\n                this.setState(nextState);\n            }\n        }\n    }\n\n    public startAnimation = () => {\n        this.animationStarted();\n        this._fadeAnimation.reset();\n        this._fadeAnimation.start(() => { this.animationFinished() });\n    }\n\n    public stopAnimation = () => {\n        this._fadeAnimation.stop();\n    }\n\n    public resetAnimation = () => {\n        this.stopAnimation();\n        this.state.opacity.setValue(this._getInitialOpacity(this.props));\n    }\n\n\n    public finishAnimation = () => {\n        this.stopAnimation();\n        this.state.opacity.setValue(this._getFinalOpacity(this.props));\n    }\n\n    protected renderAnimation(content: React.ReactNode): React.ReactNode {\n        const opacity = this.state.opacity;\n\n        return (\n            <Animated.View\n                style={{\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    opacity\n                }}>\n                {content}\n            </Animated.View>\n        );\n    }\n\n    protected getAnimationStateFromProps(props: FadeAnimationProps): FadeAnimationState {\n        return {\n            opacity: new Animated.Value(this._getInitialOpacity(props))\n        }\n    }\n\n    private _getInitialOpacity(props: FadeAnimationProps): number {\n        if (props.animationConfig.type === AnimationType.FADE_IN) {\n            const config = props.animationConfig as FadeInAnimationConfig;\n            return config.initialOpacity ? config.initialOpacity : 0;\n        } else {\n            return 1;\n        }\n    }\n\n    private _getFinalOpacity(props: FadeAnimationProps): number {\n        if (props.animationConfig.type === AnimationType.FADE_OUT) {\n            const config = props.animationConfig as FadeOutAnimationConfig;\n            return config.finalOpacity ? config.finalOpacity : 0;\n        } else {\n            return 1;\n        }\n    }\n}\n"]}