{"version":3,"sources":["BounceAnimationWrapper.tsx"],"names":["Animated","Easing","React","BaseAnimationWrapper","BounceAnimationWrapper","constructor","props","animationStarted","_bounceAnimation","reset","start","animationFinished","stop","stopAnimation","state","translateY","setValue","getAnimationStateFromProps","animationConfig","sequence","timing","duration","animationDuration","toValue","bounceHeight","easing","bezier","useNativeDriver","bounce","UNSAFE_componentWillReceiveProps","nextProps","_nextContext","nextState","setState","renderAnimation","content","justifyContent","alignItems","transform","_","Value"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,cAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,oBAAT,QAAqC,wBAArC;AAYA,OAAO,MAAMC,sBAAN,SAAqCD,oBAArC,CAAsG;AAGlGE,EAAAA,WAAW,CAACC,KAAD,EAA8B;AAC5C,UAAMA,KAAN;;AAD4C;;AAAA,4CAgCxB,MAAM;AAC1B,WAAKC,gBAAL;;AACA,WAAKC,gBAAL,CAAsBC,KAAtB;;AACA,WAAKD,gBAAL,CAAsBE,KAAtB,CAA4B,MAAM;AAAE,aAAKC,iBAAL;AAA0B,OAA9D;AACH,KApC+C;;AAAA,2CAsCzB,MAAM;AACzB,WAAKH,gBAAL,CAAsBI,IAAtB;AACH,KAxC+C;;AAAA,4CA0CxB,MAAM;AAC1B,WAAKC,aAAL;AACA,WAAKC,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,CAA/B;AACH,KA7C+C;;AAAA,6CA+CvB,MAAM;AAC3B,WAAKH,aAAL,GAD2B,CAE3B;AACH,KAlD+C;;AAE5C,SAAKC,KAAL,GAAa,KAAKG,0BAAL,CAAgCX,KAAhC,CAAb;AAEA,UAAM;AAAEY,MAAAA;AAAF,QAAsB,KAAKZ,KAAjC;AACA,UAAM;AAAES,MAAAA;AAAF,QAAiB,KAAKD,KAA5B;AAEA,SAAKN,gBAAL,GAAwBR,QAAQ,CAACmB,QAAT,CAAkB,CACtCnB,QAAQ,CAACoB,MAAT,CAAgBL,UAAhB,EAA4B;AACxBM,MAAAA,QAAQ,EAAEH,eAAe,CAACI,iBAAhB,GAAoC,CADtB;AAExBC,MAAAA,OAAO,EAAE,CAACL,eAAe,CAACM,YAFF;AAGxBC,MAAAA,MAAM,EAAExB,MAAM,CAACyB,MAAP,CAAc,CAAd,EAAiB,IAAjB,EAAuB,IAAvB,EAA6B,CAA7B,CAHgB;AAIxBC,MAAAA,eAAe,EAAE;AAJO,KAA5B,CADsC,EAOtC3B,QAAQ,CAACoB,MAAT,CAAgBL,UAAhB,EAA4B;AACxBM,MAAAA,QAAQ,EAAEH,eAAe,CAACI,iBAAhB,GAAoC,CADtB;AAExBC,MAAAA,OAAO,EAAE,CAFe;AAGxBE,MAAAA,MAAM,EAAExB,MAAM,CAAC2B,MAHS;AAIxBD,MAAAA,eAAe,EAAE;AAJO,KAA5B,CAPsC,CAAlB,CAAxB;AAcH;;AAEME,EAAAA,gCAAgC,CAACC,SAAD,EAAkCC,YAAlC,EAA2D;AAC9F,QAAID,SAAS,KAAK,KAAKxB,KAAvB,EAA8B;AAC1B,YAAM0B,SAAsC,GAAG,KAAKf,0BAAL,CAAgCa,SAAhC,CAA/C;;AACA,UAAI,QAAQE,SAAZ,EAAuB;AACnB,aAAKC,QAAL,CAAcD,SAAd;AACH;AACJ;AACJ;;AAsBSE,EAAAA,eAAe,CAACC,OAAD,EAA4C;AACjE,UAAMpB,UAAU,GAAG,KAAKD,KAAL,CAAWC,UAA9B;AAEA,wBACI,oBAAC,QAAD,CAAU,IAAV;AACI,MAAA,KAAK,EAAE;AACHqB,QAAAA,cAAc,EAAE,QADb;AAEHC,QAAAA,UAAU,EAAE,QAFT;AAGHC,QAAAA,SAAS,EAAE,CACP;AAAEvB,UAAAA;AAAF,SADO;AAHR;AADX,OAQKoB,OARL,CADJ;AAYH;;AAESlB,EAAAA,0BAA0B,CAACsB,CAAD,EAAgD;AAChF,WAAO;AACHxB,MAAAA,UAAU,EAAE,IAAIf,QAAQ,CAACwC,KAAb,CAAmB,CAAnB;AADT,KAAP;AAGH;;AA5EwG","sourcesContent":["import { Animated, Easing } from 'react-native';\nimport React from 'react';\nimport { BaseAnimationWrapper } from './BaseAnimationWrapper';\nimport { AnimationWrapperProps } from '../../Types';\nimport BounceAnimationConfig from '../../data/BounceAnimationConfig';\n\ninterface BounceAnimationState {\n    translateY: Animated.Value;\n}\n\nexport interface BounceAnimationProps extends AnimationWrapperProps {\n    animationConfig: BounceAnimationConfig;\n}\n\nexport class BounceAnimationWrapper extends BaseAnimationWrapper<BounceAnimationProps, BounceAnimationState> {\n    private _bounceAnimation: Animated.CompositeAnimation;\n\n    public constructor(props: BounceAnimationProps) {\n        super(props);\n        this.state = this.getAnimationStateFromProps(props);\n\n        const { animationConfig } = this.props;\n        const { translateY } = this.state;\n\n        this._bounceAnimation = Animated.sequence([\n            Animated.timing(translateY, {\n                duration: animationConfig.animationDuration / 3,\n                toValue: -animationConfig.bounceHeight,\n                easing: Easing.bezier(0, 0.55, 0.45, 1),\n                useNativeDriver: false\n            }),\n            Animated.timing(translateY, {\n                duration: animationConfig.animationDuration / 2,\n                toValue: 0,\n                easing: Easing.bounce,\n                useNativeDriver: false\n            })\n        ]);\n    }\n\n    public UNSAFE_componentWillReceiveProps(nextProps: BounceAnimationProps, _nextContext: any): void {\n        if (nextProps !== this.props) {\n            const nextState: BounceAnimationState | null = this.getAnimationStateFromProps(nextProps);\n            if (null != nextState) {\n                this.setState(nextState);\n            }\n        }\n    }\n\n    public startAnimation = () => {\n        this.animationStarted();\n        this._bounceAnimation.reset();\n        this._bounceAnimation.start(() => { this.animationFinished() });\n    }\n\n    public stopAnimation = () => {\n        this._bounceAnimation.stop();\n    }\n\n    public resetAnimation = () => {\n        this.stopAnimation();\n        this.state.translateY.setValue(0);\n    }\n\n    public finishAnimation = () => {\n        this.stopAnimation();\n        // no extra op\n    }\n\n    protected renderAnimation(content: React.ReactNode): React.ReactNode {\n        const translateY = this.state.translateY;\n\n        return (\n            <Animated.View\n                style={{\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    transform: [\n                        { translateY }\n                    ]\n                }}>\n                {content}\n            </Animated.View>\n        );\n    }\n\n    protected getAnimationStateFromProps(_: BounceAnimationProps): BounceAnimationState {\n        return {\n            translateY: new Animated.Value(0)\n        };\n    }\n}\n"]}